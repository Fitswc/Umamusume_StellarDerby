namespace = uma_sweepy

##Front Trigger
country_event = {
	id = uma_sweepy.1
	is_triggered_only = yes
	title = uma_sweepy.1.title
	desc = uma_sweepy.1.desc


	trigger = {
		NOT = {
			has_country_flag = uma_sweepy_evt_front_done
		}
		days_passed = 1080
	}

	immediate = {
		set_country_flag = uma_sweepy_evt_front_done
	}

	option = {
		name = uma_sweepy.1.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.2
				days = 300
			}
		}
	}
	option = {
		name = uma_sweepy.1.b
		hidden_effect = {
			add_resource = {
				influence = 20
			}
		}
	}
}




country_event = {
	id = uma_sweepy.2
	title = uma_sweepy.2.title
	desc = uma_sweepy.2.desc
	is_triggered_only = yes


	option = {
		name = uma_sweepy.2.a

	}
	option = {
		name = uma_sweepy.2.b
		hidden_effect = {
			add_resource = {
				influence = 20
			}
		}
	}
}


country_event = {
	id = uma_sweepy.3
	title = uma_sweepy.3.title
	desc = uma_sweepy.3.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.3.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.4
			}
		}
	}
}

country_event = {
	id = uma_sweepy.4
	title = uma_sweepy.4.title
	desc = uma_sweepy.4.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.4.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.5
			}
		}
	}
}

country_event = {
	id = uma_sweepy.5
	title = uma_sweepy.5.title
	desc = uma_sweepy.5.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.5.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.6
			}
		}
	}
}

country_event = {
	id = uma_sweepy.6
	title = uma_sweepy.6.title
	desc = uma_sweepy.6.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.6.a
		hidden_effect = {
			set_timed_country_flag = {
				flag = uma_prevent_sweepy_evt_happened
				days = 100
			}
		}
	}
}

country_event = {
	id = uma_sweepy.7
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		NOT = {
			OR = {
				has_country_flag = uma_prevent_sweepy_evt_happened
			}
		}
	}

	immediate = {

		random_list = {
			50 = {
				modifier = {
					OR = {
						has_country_flag = uma_sweepy_heat_happened
						has_country_flag = uma_sweepy_evt_happening
					}
					set = 0
				}
				country_event = {
					id = uma_sweepy.101
				}
			}

			50 = {
				modifier = {
					OR = {
						has_country_flag = uma_sweepy_ice_happened
						has_country_flag = uma_sweepy_evt_happening
					}
					set = 0
				}
				country_event = {
					id = uma_sweepy.102
				}
			}

			50 = {
				modifier = {
					OR = {
						has_country_flag = uma_sweepy_carrot_happened
						has_country_flag = uma_sweepy_evt_happening
					}
					set = 0
				}
				country_event = {
					id = uma_sweepy.103
				}
			}
		}
	}
}

country_event = {
	id = uma_sweepy.101
	title = uma_sweepy_arc_heat_building
	desc = uma_sweepy_arc_heat_building_desc
	is_triggered_only = yes

	immediate = {
		set_country_flag = uma_sweepy_evt_happening
		set_country_flag = uma_sweepy_heat_happened
	}

	option = {
		name = uma_sweepy.101.a
		capital_scope = {
			create_archaeological_site = uma_sweepy_arc_heat_building
		}
	}
}

country_event = {
	id = uma_sweepy.102
	title = uma_sweepy_arc_ice_from_sky
	desc = uma_sweepy_arc_ice_from_sky_desc
	is_triggered_only = yes

	immediate = {
		set_country_flag = uma_sweepy_evt_happening
		set_country_flag = uma_sweepy_ice_happened
	}

	option = {
		name = CURIOUS
		capital_scope = {
			create_archaeological_site = uma_sweepy_arc_ice_from_sky
		}
	}
}

country_event = {
	id = uma_sweepy.103
	title = uma_sweepy_arc_carrot
	desc = uma_sweepy_arc_carrot_desc
	is_triggered_only = yes

	immediate = {
		set_country_flag = uma_sweepy_evt_happening
		set_country_flag = uma_sweepy_carrot_happened
	}

	option = {
		name = CURIOUS
		capital_scope = {
			create_archaeological_site = uma_sweepy_arc_carrot
		}
	}
}




##ARC
fleet_event = {
	id = uma_sweepy.10
	title = uma_sweepy.10.name
	desc = uma_sweepy.10.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = CURIOUS #占位符
	}
}
fleet_event = {
	id = uma_sweepy.11
	title = uma_sweepy.11.name
	desc = uma_sweepy.11.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = uma_sweepy.11.a #占位符
	}
}

fleet_event = {
	id = uma_sweepy.12
	title = uma_sweepy.12.name
	desc = uma_sweepy.12.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}


	option = {
		name = uma_sweepy.12.a #占位符
	}
	after = {
		from = { set_site_progress_locked = no }
		destroy_archaeological_site = from
		owner = {
			remove_country_flag = uma_sweepy_evt_happening
			if = {
				limit = {
					AND = {
						has_country_flag = uma_sweepy_heat_happened
						has_country_flag = uma_sweepy_ice_happened
						has_country_flag = uma_sweepy_carrot_happened
					}
				}
				set_country_flag = uma_prevent_sweepy_evt_happened
				country_event = {
					id = uma_sweepy.20
					days = 3
				}
			}
		}
	}
}


##ARC_2
fleet_event = {
	id = uma_sweepy.13
	title = uma_sweepy.13.name
	desc = uma_sweepy.13.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = uma_sweepy.13.a #占位符
	}
}
fleet_event = {
	id = uma_sweepy.14
	title = uma_sweepy.14.name
	desc = uma_sweepy.14.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = uma_sweepy.14.a #占位符
	}
}

fleet_event = {
	id = uma_sweepy.15
	title = uma_sweepy.15.name
	desc = uma_sweepy.15.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = uma_sweepy.15.a #占位符
	}
}

fleet_event = {
	id = uma_sweepy.16
	title = uma_sweepy.16.name
	desc = uma_sweepy.16.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}



	option = {
		name = uma_sweepy.16.a #占位符
	}

	after = {
		from = { set_site_progress_locked = no }
		destroy_archaeological_site = from
		owner = {
			remove_country_flag = uma_sweepy_evt_happening
			if = {
				limit = {
					AND = {
						has_country_flag = uma_sweepy_heat_happened
						has_country_flag = uma_sweepy_ice_happened
						has_country_flag = uma_sweepy_carrot_happened
					}
				}
				set_country_flag = uma_prevent_sweepy_evt_happened
				country_event = {
					id = uma_sweepy.20
					days = 3
				}
			}
		}
	}
}


##ARC_3
fleet_event = {
	id = uma_sweepy.17
	title = uma_sweepy.17.name
	desc = uma_sweepy.17.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = CURIOUS #占位符
	}
}
fleet_event = {
	id = uma_sweepy.18
	title = uma_sweepy.18.name
	desc = uma_sweepy.18.desc
	picture = GFX_evt_planet_beam #占位符
	show_sound = event_big_door_opening #占位符
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}



	option = {
		name = uma_sweepy.18.a #占位符

	}
	after = {
		from = { set_site_progress_locked = no }
		destroy_archaeological_site = from
		owner = {
			remove_country_flag = uma_sweepy_evt_happening
			if = {
				limit = {
					AND = {
						has_country_flag = uma_sweepy_heat_happened
						has_country_flag = uma_sweepy_ice_happened
						has_country_flag = uma_sweepy_carrot_happened
					}
				}
				set_country_flag = uma_prevent_sweepy_evt_happened
				country_event = {
					id = uma_sweepy.20
					days = 3
				}
			}
		}

	}
}




country_event = {
	id = uma_sweepy.20
	title = uma_sweepy.20.title
	desc = uma_sweepy.20.desc
	is_triggered_only = yes



	option = {
		name = uma_sweepy.20.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.21
			}
		}
	}
}


country_event = {
	id = uma_sweepy.21
	title = uma_sweepy.21.title
	desc = uma_sweepy.21.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.21.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.22
			}
		}
	}
}

country_event = {
	id = uma_sweepy.22
	title = uma_sweepy.21.title
	desc = uma_sweepy.22.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.22.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.23
			}
		}
	}
}

country_event = {
	id = uma_sweepy.23
	title = uma_sweepy.21.title
	desc = uma_sweepy.23.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.23.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.24
				days = 360
				random = 50
			}
		}
	}
}

country_event = {
	id = uma_sweepy.24
	title = uma_sweepy.24.title
	desc = uma_sweepy.24.desc
	is_triggered_only = yes


	immediate = {
		capital_scope = {
			add_planet_devastation = 20
		}
	}


	option = {
		name = uma_sweepy.24.a
	}
}


country_event = {
	id = uma_sweepy.25
	title = uma_sweepy.21.title
	desc = uma_sweepy.25.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.25.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.26
			}
		}
	}
}

country_event = {
	id = uma_sweepy.26
	title = uma_sweepy.21.title
	desc = uma_sweepy.26.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.26.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.27
			}
		}
	}
}

country_event = {
	id = uma_sweepy.27
	title = uma_sweepy.21.title
	desc = uma_sweepy.27.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.27.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.28
			}
		}
	}
}

country_event = {
	id = uma_sweepy.28
	title = uma_sweepy.21.title
	desc = uma_sweepy.28.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.28.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.29
			}
		}
	}
}

country_event = {
	id = uma_sweepy.29
	title = uma_sweepy.21.title
	desc = uma_sweepy.29.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.29.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.30
			}
		}
	}
}

country_event = {
	id = uma_sweepy.30
	title = uma_sweepy.21.title
	desc = uma_sweepy.30.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.30.a
		hidden_effect = {
			country_event = {
				id = uma_sweepy.31
			}
		}
	}
}

country_event = {
	id = uma_sweepy.31
	title = uma_sweepy.21.title
	desc = uma_sweepy.31.desc
	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = Root
		portrait = 56b
	}


	option = {
		name = uma_sweepy.31.a
		response_text = uma_sweepy.31.desc.repo
		hidden_effect = {
			custom_tooltip = uma_sweepy.31.tt
			hidden_effect = {
				uma_create_leader_sweepy = yes
				last_created_leader = {
					change_leader_portrait = "56c"
					uma_initialize_leader_yaruki_effect = yes
					set_leader_flag = uma_is_special_leader
					set_leader_flag = uma_is_sweepy_tonson
					set_leader_flag = legendary_leader
					save_global_event_target_as = uma_is_leader_sweepy_tonson
					change_leader_portrait = 56c
				}
				create_message = {
					type = MESSAGE_RECRUITED_LEADER
					localization = MESSAGE_RECRUITED_LEADER_DESC
					days = @toast_message_days
					target = event_target:uma_is_leader_sweepy_tonson
					variable = {
						type = name
						localization = LEADER
						scope = event_target:uma_is_leader_sweepy_tonson
					}
					variable = {
						key = "border"
						value = "GFX_border_legendary"
					}
				}
			}
		}
	}
}












